<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Emna Naturals - Premium Organic Beauty Products</title>
  <meta name="description" content="Transform your hair and skin with Emna Naturals' premium organic beauty products." />
  <link rel="icon" href="https://dhgf5mcbrms62.cloudfront.net/63685003/image-text-YC6qDi/MupaLBK-200x200.jpg" type="image/png">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Ecwid main script -->
  <script data-cfasync="false" src="https://app.ecwid.com/script.js?63685003&data_platform=code" charset="utf-8"></script>

  <script>
    // Ecwid widget initialization (product browser)
    window.ecwid_script_defer = true;
    window.ecwid_dynamic_widgets = true;
    window._xnext_initialization_scripts = [{
      widgetType: 'ProductBrowser',
      id: 'my-store-63685003',
      arg: [
        "categoriesPerRow=3",
        "views=grid(20,3) list(60) table(60)",
        "categoryView=grid",
        "responsive=yes"
      ]
    }];
  </script>

  <style>
    /* Basic reset + theme */
    *{box-sizing:border-box;margin:0;padding:0}
    :root{
      --primary-green:#1a3b2e;
      --secondary-green:#2d5a42;
      --accent-gold:#d4af37;
      --cream:#faf8f5;
      --muted:#757575;
      --dark:#212121;
    }
    body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;color:var(--dark);background:var(--cream);line-height:1.6;overflow-x:hidden}
    .container{max-width:1400px;margin:0 auto;padding:0 24px}

    /* Header */
    header{position:fixed;top:0;left:0;right:0;background:rgba(255,255,255,.95);backdrop-filter:blur(12px);border-bottom:1px solid rgba(26,59,46,.06);z-index:1100}
    nav{display:flex;align-items:center;justify-content:space-between;padding:18px 0}
    .logo{font-family:'Playfair Display',serif;font-size:1.6rem;color:var(--primary-green);cursor:pointer}
    .nav-center{display:flex;gap:2rem;list-style:none}
    .nav-center a{text-decoration:none;color:var(--dark);font-weight:500}
    .nav-center a:hover{color:var(--primary-green)}

    .nav-right{display:flex;align-items:center;gap:1rem}
    .cart-button{position:relative;background:var(--primary-green);color:#fff;border:none;padding:10px 18px;border-radius:10px;cursor:pointer;font-weight:600;display:flex;align-items:center;gap:.5rem}
    .cart-count{position:absolute;top:-8px;right:-8px;background:var(--accent-gold);color:var(--primary-green);width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.75rem;border:2px solid #fff}
    .cart-count.hidden{display:none}

    /* Hero */
    .hero{min-height:82vh;display:flex;align-items:center;background:linear-gradient(135deg,var(--cream),#f7f5f1);padding-top:80px}
    .hero-content{display:grid;grid-template-columns:1fr 1fr;gap:3rem;align-items:center}
    .hero h1{font-family:'Playfair Display',serif;font-size:clamp(2rem,4vw,3.5rem);color:var(--primary-green)}
    .subtitle{color:var(--muted);font-size:1.05rem;margin-top:.75rem}

    /* Products */
    .products{padding:4.5rem 0;background:white}
    #my-store-63685003{margin:0 auto}

    /* Spinner fallback */
    .spinner{border:3px solid #eaf4ea;border-top:3px solid var(--primary-green);border-radius:50%;width:48px;height:48px;animation:spin 1s linear infinite;margin:0 auto}
    @keyframes spin{to{transform:rotate(360deg)}}

    /* Contact */
    .contact{padding:4.5rem 0;background:var(--primary-green);color:#fff}
    .contact-grid{display:grid;grid-template-columns:1fr 1fr;gap:2rem;align-items:start}
    .contact-card{background:rgba(255,255,255,.06);padding:1.5rem;border-radius:14px}

    /* Footer */
    footer{padding:2rem 0;text-align:center;color:#666;background:transparent}

    /* Mini-cart drawer */
    #miniCartOverlay{position:fixed;inset:0;background:rgba(0,0,0,.45);opacity:0;visibility:hidden;transition:all .3s ease;z-index:2000}
    #miniCartOverlay.active{opacity:1;visibility:visible}
    #miniCartDrawer{position:fixed;top:0;right:-440px;width:420px;height:100vh;background:#fff;box-shadow:-10px 0 40px rgba(0,0,0,.12);z-index:2100;transition:right .35s cubic-bezier(.2,.9,.2,1);overflow-y:auto;padding:20px 22px;display:flex;flex-direction:column}
    #miniCartDrawer.open{right:0}
    .close-drawer{background:none;border:none;font-size:1.35rem;color:var(--primary-green);cursor:pointer;align-self:flex-end}
    .mini-cart-items{margin-top:8px;display:flex;flex-direction:column;gap:12px}
    .mini-cart-item{display:flex;gap:12px;align-items:center;border-bottom:1px solid #f0f0f0;padding-bottom:12px;padding-top:6px}
    .mini-cart-thumb{width:56px;height:56px;border-radius:8px;object-fit:cover;flex-shrink:0}
    .mini-cart-item-info{flex:1}
    .mini-cart-item-info strong{display:block;color:var(--primary-green)}
    .mini-cart-subtotal{margin-top:auto;padding-top:14px;border-top:1px solid #eee;font-weight:700;text-align:right;color:var(--primary-green)}
    .mini-cart-empty{color:#777;margin-top:16px}

    /* Responsive */
    @media(max-width:900px){.hero-content{grid-template-columns:1fr}.nav-center{display:none}.cart-button span:not(.cart-count){display:none;padding:10px}}
  </style>
</head>
<body>
  <header>
    <nav class="container">
      <div class="logo" onclick="window.scrollTo({top:0,behavior:'smooth'})">EMNA NATURALS</div>

      <ul class="nav-center" aria-hidden="false">
        <li><a href="#home">Home</a></li>
        <li><a href="#products">Products</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>

      <div class="nav-right">
        <button id="cartButton" class="cart-button" aria-label="Open cart">
          <span class="cart-icon">üõí</span><span class="cart-label">Cart</span>
          <span id="cartCount" class="cart-count hidden">0</span>
        </button>
      </div>
    </nav>
  </header>

  <main>
    <section id="home" class="hero container">
      <div class="hero-content">
        <div>
          <h1>Pure Beauty, <span style="color:var(--accent-gold)">Naturally Crafted</span></h1>
          <p class="subtitle">Transform your hair and skin with our premium organic products.</p>
        </div>
        <div style="text-align:center">
          <img src="https://dhgf5mcbrms62.cloudfront.net/63685003/image-text-YC6qDi/MupaLBK-200x200.jpg" alt="Product" style="max-width:280px;border-radius:18px;box-shadow:0 20px 50px rgba(26,59,46,.08)">
        </div>
      </div>
    </section>

    <section id="products" class="products">
      <div class="container">
        <div style="text-align:center;margin-bottom:18px">
          <h2 style="font-family:Playfair Display,serif;color:var(--primary-green);font-size:1.9rem">Our Product Collection</h2>
          <p style="color:var(--muted)">Discover our range of premium organic beauty products</p>
        </div>

        <!-- Ecwid store / spinner fallback -->
        <div id="my-store-63685003" aria-live="polite">
          <div style="text-align:center;padding:40px">
            <div class="spinner" role="status" aria-hidden="true"></div>
            <p style="color:var(--muted);margin-top:12px">Loading products‚Ä¶</p>
          </div>
        </div>
      </div>
    </section>

    <section id="contact" class="contact">
      <div class="container">
        <h2 style="font-family:Playfair Display,serif;text-align:center;margin-bottom:16px">Get in Touch</h2>
        <div class="contact-grid">
          <div class="contact-card">
            <div style="display:flex;gap:10px;margin-bottom:12px"><div>üìç</div><div><strong>Address</strong><br>Greater London, United Kingdom</div></div>
            <div style="display:flex;gap:10px;margin-bottom:12px"><div>üìß</div><div><strong>Email</strong><br><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="4129242d2d2e01242c2f202f20353433202d326f222e2c">[email&#160;protected]</a></div></div>
            <div style="display:flex;gap:10px"><div>üì±</div><div><strong>Phone</strong><br>+44 (0) 20 8567 1234</div></div>
            <div style="margin-top:14px"><a href="https://www.google.com/maps/place/Greater+London,+United+Kingdom" style="color:var(--accent-gold);text-decoration:underline;font-weight:600">Get Directions ‚Üí</a></div>
          </div>

          <div class="contact-card">
            <form id="contactForm">
              <div style="margin-bottom:12px"><label for="name" style="display:block;margin-bottom:6px">Name</label><input id="name" name="name" required style="width:100%;padding:10px;border-radius:8px;border:none"></div>
              <div style="margin-bottom:12px"><label for="email" style="display:block;margin-bottom:6px">Email</label><input id="email" name="email" type="email" required style="width:100%;padding:10px;border-radius:8px;border:none"></div>
              <div style="margin-bottom:12px"><label for="message" style="display:block;margin-bottom:6px">Message</label><textarea id="message" name="message" rows="4" required style="width:100%;padding:10px;border-radius:8px;border:none"></textarea></div>
              <div><button type="submit" style="background:var(--accent-gold);color:var(--primary-green);padding:10px 16px;border:none;border-radius:8px;font-weight:700;cursor:pointer">Send Message</button></div>
            </form>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <small>¬© 2024 Emna Naturals ¬∑ All rights reserved.</small>
    </div>
  </footer>

  <!-- Mini-cart drawer elements -->
  <div id="miniCartOverlay" aria-hidden="true"></div>
  <aside id="miniCartDrawer" aria-hidden="true" role="dialog" aria-label="Shopping cart">
    <button id="closeCart" class="close-drawer" aria-label="Close cart">‚úï</button>
    <div id="mini-cart-content" style="min-height:40px"></div>
  </aside>

  <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
    // ---------- Utilities & defensive helpers ----------
    function safeLog(...args){ try{ console.log(...args); } catch(e){} }

    // Update header cart count display
    function updateCartDisplay(cart){
      try{
        const countEl = document.getElementById('cartCount');
        const qty = (cart && (cart.productsQuantity || cart.productCount || 0)) || 0;
        if(qty > 0){
          countEl.textContent = qty;
          countEl.classList.remove('hidden');
        } else {
          countEl.classList.add('hidden');
        }
      } catch(e){ safeLog('updateCartDisplay error', e) }
    }

    // Wait until Ecwid exists then call cb
    function whenEcwidReady(cb, timeoutMs = 5000){
      const start = Date.now();
      (function poll(){
        if(typeof Ecwid !== 'undefined' && Ecwid && Ecwid.Cart && Ecwid.Cart.get){
          return cb();
        }
        if(Date.now() - start > timeoutMs){
          safeLog('Ecwid not ready after', timeoutMs, 'ms');
          return; // give up gracefully
        }
        setTimeout(poll, 150);
      })();
    }

    // ---------- Ecwid events (cart / API) ----------
    // Many Ecwid installations expose add method signatures as functions on OnAPILoaded/OnCartChanged.
    try {
      if(typeof Ecwid !== 'undefined' && Ecwid && Ecwid.OnAPILoaded){
        // if this runs immediately (rare), hook later as well
      }
    } catch(e){}

    // Ensure we attach handlers in a safe way once API is present
    whenEcwidReady(function(){
      try {
        Ecwid.OnAPILoaded.add(function(){
          safeLog('Ecwid API loaded (OnAPILoaded)');
          try { Ecwid.Cart.get(updateCartDisplay); } catch(e){ safeLog('Cart.get failed', e); }
        });

        // Some Ecwid SDKs expose OnCartChanged as property function or array of handlers
        if(Ecwid.OnCartChanged && typeof Ecwid.OnCartChanged.add === 'function'){
          Ecwid.OnCartChanged.add(function(cart){ updateCartDisplay(cart); });
        } else if(typeof Ecwid.OnCartChanged === 'function'){
          // older style
          Ecwid.OnCartChanged(function(cart){ updateCartDisplay(cart); });
        }

        // One-time initial fetch (in case API loaded already)
        Ecwid.Cart.get(function(cart){ updateCartDisplay(cart); });
      } catch(err){
        safeLog('Error attaching Ecwid handlers', err);
      }
    });

    // Additional defensive polling: periodically refresh count (small interval)
    setInterval(function(){
      if(typeof Ecwid !== 'undefined' && Ecwid && Ecwid.Cart && Ecwid.Cart.get){
        try{ Ecwid.Cart.get(updateCartDisplay); } catch(e){}
      }
    }, 3500);

    // ---------- Button text fixer (make "Buy Now" -> "Add to Cart") ----------
    function changeEcwidButtons(){
      try{
        // Common Ecwid selectors for buy buttons
        const selectors = [
          '.grid-product__buy-now',
          '.form-control--button',
          'button.form-control--primary',
          '.form-control__button--add-to-bag',
          '.details-product-purchase__add-to-bag',
          'button[class*="buy"]'
        ];
        selectors.forEach(sel => {
          document.querySelectorAll(sel).forEach(btn => {
            const text = (btn.textContent || '').trim().toLowerCase();
            if(text.includes('buy now') || text === 'buy now'){
              if(!btn.dataset.emnaChanged){
                btn.textContent = 'Add to Cart';
                btn.dataset.emnaChanged = '1';
              }
            }
          });
        });
      } catch(e){ safeLog('changeEcwidButtons error', e) }
    }

    // Watch for dynamic content
    const productObserver = new MutationObserver(function(muts){
      muts.forEach(m => {
        if(m.addedNodes && m.addedNodes.length) changeEcwidButtons();
      });
    });
    setTimeout(function(){
      const el = document.getElementById('my-store-63685003');
      if(el) productObserver.observe(el, {childList:true,subtree:true});
      // initial run
      changeEcwidButtons();
      // periodic guardian
      setInterval(changeEcwidButtons, 2000);
    }, 800);

    // ---------- Mini-cart drawer logic ----------
    const drawer = document.getElementById('miniCartDrawer');
    const overlay = document.getElementById('miniCartOverlay');
    const cartButton = document.getElementById('cartButton');
    const closeCartBtn = document.getElementById('closeCart');
    const miniContent = document.getElementById('mini-cart-content');

    function renderCartToDrawer(cart){
      try {
        miniContent.innerHTML = '';
        
        // DEBUGGING
        console.log('=== CART DEBUG ===');
        console.log('Full cart object:', cart);
        console.log('cart.products:', cart ? cart.products : 'cart is null/undefined');
        console.log('Is array?', cart && Array.isArray(cart.products));
        console.log('Length:', cart && cart.products ? cart.products.length : 'N/A');
        
        const heading = document.createElement('h2');
        heading.style.fontFamily = 'Playfair Display, serif';
        heading.style.color = 'var(--primary-green)';
        heading.textContent = 'Your Cart';
        miniContent.appendChild(heading);

        if(!cart || !Array.isArray(cart.products) || cart.products.length === 0){
          const p = document.createElement('p');
          p.className = 'mini-cart-empty';
          p.textContent = 'Your cart is empty.';
          miniContent.appendChild(p);
        } else {
          const itemsWrap = document.createElement('div');
          itemsWrap.className = 'mini-cart-items';

          let subtotal = 0;
          cart.products.forEach((p, index) => {
            console.log(`Product ${index}:`, p);
            
            const item = document.createElement('div');
            item.className = 'mini-cart-item';

            const img = document.createElement('img');
            img.className = 'mini-cart-thumb';
            img.src = p.imageUrl || p.thumbnailUrl || p.smallThumbnailUrl || p.image || (p.product && p.product.imageUrl) || 'https://via.placeholder.com/56';
            img.alt = p.name || 'Product';

            const info = document.createElement('div');
            info.className = 'mini-cart-item-info';
            const title = document.createElement('strong');
            title.textContent = p.name || 'Product';
            const meta = document.createElement('div');
            // price: Ecwid may provide p.price as string or number; handle both
            const priceVal = parseFloat(p.price) || 0;
            subtotal += priceVal * (p.quantity || 1);
            meta.innerHTML = `<small>${(p.quantity || 1)} √ó ¬£${priceVal.toFixed(2)}</small>`;
            info.appendChild(title);
            info.appendChild(meta);

            item.appendChild(img);
            item.appendChild(info);
            itemsWrap.appendChild(item);
          });

          miniContent.appendChild(itemsWrap);

          const subtotalEl = document.createElement('div');
          subtotalEl.className = 'mini-cart-subtotal';
          subtotalEl.textContent = `Subtotal: ¬£${(subtotal).toFixed(2)}`;
          miniContent.appendChild(subtotalEl);

          const checkoutWrap = document.createElement('div');
          checkoutWrap.style.textAlign = 'center';
          checkoutWrap.style.marginTop = '14px';
          const checkoutBtn = document.createElement('button');
          checkoutBtn.style.background = 'var(--primary-green)';
          checkoutBtn.style.color = '#fff';
          checkoutBtn.style.padding = '11px 18px';
          checkoutBtn.style.border = 'none';
          checkoutBtn.style.borderRadius = '10px';
          checkoutBtn.style.cursor = 'pointer';
          checkoutBtn.style.fontWeight = '700';
          checkoutBtn.textContent = 'Checkout';
          checkoutBtn.addEventListener('click', function(){ 
            // Open Ecwid cart page / checkout
            if(typeof Ecwid !== 'undefined' && Ecwid.openPage){
              try{ Ecwid.openPage('cart') } catch(e){ window.open('https://emna-naturals.ecwid.com/cart', '_blank') }
            } else {
              window.open('https://emna-naturals.ecwid.com/cart','_blank');
            }
          });
          checkoutWrap.appendChild(checkoutBtn);
          miniContent.appendChild(checkoutWrap);
        }
      } catch(err){ safeLog('renderCartToDrawer error', err) }
    }

    function openDrawer(){
      drawer.classList.add('open');
      overlay.classList.add('active');
      drawer.setAttribute('aria-hidden','false');
      overlay.setAttribute('aria-hidden','false');
      // prevent background scroll
      document.documentElement.style.overflow = 'hidden';
      document.body.style.overflow = 'hidden';
    }

    function closeDrawer(){
      drawer.classList.remove('open');
      overlay.classList.remove('active');
      drawer.setAttribute('aria-hidden','true');
      overlay.setAttribute('aria-hidden','true');
      document.documentElement.style.overflow = '';
      document.body.style.overflow = '';
    }

    // Click cart button: ensure Ecwid API is ready and fetch current cart, then render
    cartButton.addEventListener('click', function(){
      // if Ecwid isn't ready yet, wait and then call
      whenEcwidReady(function(){
        try {
          Ecwid.Cart.get(function(cart){
            renderCartToDrawer(cart || {});
            openDrawer();
          });
        } catch(e){
          safeLog('Ecwid.Cart.get threw', e);
          // fallback: try after short delay
          setTimeout(function(){
            if(typeof Ecwid !== 'undefined' && Ecwid.Cart && Ecwid.Cart.get){
              Ecwid.Cart.get(function(cart){
                renderCartToDrawer(cart || {});
                openDrawer();
              });
            } else {
              // fallback UI
              miniContent.innerHTML = '<p style="color:#777">Cart data is loading ‚Äî please try again in a moment.</p>';
              openDrawer();
            }
          }, 400);
        }
      }, 4000);
    });

    // Close handlers
    closeCartBtn.addEventListener('click', closeDrawer);
    overlay.addEventListener('click', closeDrawer);

    // Also update drawer content live when cart changes (if drawer open)
    function maybeRefreshDrawer(cart){
      updateCartDisplay(cart);
      if(drawer.classList.contains('open')){
        renderCartToDrawer(cart || {});
      }
    }

    // Attach Ecwid cart change handler
    whenEcwidReady(function(){
      try {
        if(Ecwid.OnCartChanged && typeof Ecwid.OnCartChanged.add === 'function'){
          Ecwid.OnCartChanged.add(maybeRefreshDrawer);
        } else if(typeof Ecwid.OnCartChanged === 'function'){
          Ecwid.OnCartChanged(maybeRefreshDrawer);
        }
        // ensure initial fetch
        Ecwid.Cart.get(function(cart){ maybeRefreshDrawer(cart || {}); });
      } catch(e){
        safeLog('error hooking OnCartChanged', e);
      }
    });

    // Accessibility: close Esc
    document.addEventListener('keydown', function(e){
      if(e.key === 'Escape' && drawer.classList.contains('open')) closeDrawer();
    });

    // ---------- Contact form small UX (non-remote) ----------
    document.getElementById('contactForm')?.addEventListener('submit', function(ev){
      ev.preventDefault();
      const name = this.name?.value || '';
      const email = this.email?.value || '';
      const message = this.message?.value || '';
      const submitBtn = this.querySelector('button[type="submit"]');
      if(submitBtn){
        const orig = submitBtn.textContent;
        submitBtn.textContent = 'Sending...';
        submitBtn.disabled = true;
        setTimeout(function(){
          alert(`Thanks ${name || 'there'} ‚Äî we received your message and will reply to ${email || 'your email'}.`);
          submitBtn.textContent = orig;
          submitBtn.disabled = false;
          try{ document.getElementById('contactForm').reset(); } catch(e){}
        }, 1000);
 